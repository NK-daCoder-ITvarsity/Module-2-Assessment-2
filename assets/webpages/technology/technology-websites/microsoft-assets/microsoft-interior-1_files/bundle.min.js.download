/*! Microsoft News Center - v0.1.0
 * https://news.microsoft.com
 * Copyright (c) 2023; */

!function(n,o){"use strict";function e(){var e,t,a=r.find(".m-preview"),i=r.find(".m-preview-content");e=a,t="col-4",a="col-6",o.matchMedia("(min-width: 1079px)").matches?e.attr("data-grid",t):o.matchMedia("(max-width: 1078px)").matches&&e.attr("data-grid",a),i.css("height","auto"),(o.matchMedia("(min-width: 767px)").matches||n.ieVersion<9)&&l(i)}var t=n(o),a=n("body"),r=n(".context-mnc-search, .context-mnc-archive"),l=function(a){var i=0,n=[],o=0;Array.prototype.forEach.call(a,function(e,t){t=a[t+1]||null;if(e.getBoundingClientRect().top!==i&&(i=e.getBoundingClientRect().top,o=0,n=[]),n.push(e),(o=e.offsetHeight>o?e.offsetHeight:o)<1)return setTimeout(function(){l(a)},1e3);(!t||t.getBoundingClientRect().top!==i)&&1<n.length&&Array.prototype.forEach.call(n,function(e){e.style.minHeight=o+"px"})})},i=function(){var e=n(this);e.attr("title",e.text()),e.attr("aria-label",e.text())};void 0!==document.documentMode&&(n.ieVersion=document.documentMode),t.on("resize",function(){var i,e=n(".f-col-height-match");n(".m-preview").css("display","block"),e.each(function(){var e=n(this);(i>e.outerHeight(!0)||void 0===i)&&(i=e.outerHeight(!0))}),e.each(function(){var e,t,a=n(this);i<a.outerHeight(!0)&&(e=a.find(".m-preview"),t=0,e.each(function(){t<i-64&&(t+=a.outerHeight(!0))}))})}),t.on("resize",function(){var e=n(".f-pivot-toggle"),t=e.find(".f-pivot-panel");o.matchMedia("(min-width: 768px)").matches?(e.removeClass("c-pivot"),t.removeAttr("aria-hidden")):o.matchMedia("(max-width: 767px)").matches&&(e.hasClass("c-pivot")||(e.addClass("c-pivot"),t.attr("aria-hidden",!0),n(".f-pivot-toggle #pivot-target-1").attr("aria-hidden",!1),n(".f-pivot-toggle header a").removeClass("f-active"),n(".f-pivot-toggle header a:first-of-type").addClass("f-active")))}),t.on("resize",function(){var e=n(".m-preview.f-horiztonal-placement"),t=n(".m-preview.f-vertical-placement");e.width()<400&&(e.addClass("f-vertical-placement"),e.removeClass("f-horiztonal-placement")),(352<=t.width()||o.matchMedia("(max-width: 768px)").matches&&o.matchMedia("(min-width: 336px)").matches)&&(t.addClass("f-horiztonal-placement"),t.removeClass("f-vertical-placement"))}),t.on("resize",function(){var e=n(".mnc-lg-panel"),t=n(".mnc-md-panel"),a=n(".mnc-lgSolo-panel");o.matchMedia("(min-width: 768px)").matches?(a.attr("data-f-mosaic","f-vp1-whole f-vp4-whole f-height-medium"),e.attr("data-f-mosaic","f-vp1-whole f-vp3-half f-height-medium"),t.attr("data-f-mosaic","f-vp1-whole f-vp2-half f-height-medium")):o.matchMedia("(max-width: 767px)").matches&&(e.attr("data-f-mosaic","f-vp1-whole f-vp3-half f-height-large"),t.attr("data-f-mosaic","f-vp1-whole f-height-large"),a.attr("data-f-mosaic","f-vp1-whole f-vp4-whole f-height-large"),n(".c-mosaic-placement").removeClass("f-height-large").addClass("f-height-medium"))}),t.on("resize",e),a.on("click",".c-pivot",e),n(function(){var e;n.ieVersion=null,t.trigger("resize"),a.hasClass("home")&&((e=n(".widget_wpcom_social_media_icons_widget")).attr("aria-label",o.mncI18n.followUs),e.find("a").each(i))}),setTimeout(function(){t.trigger("resize")},2500)}(jQuery,window),function(c){"use strict";c.msGallerySlider=function(e){function t(){l(o<n+1?0:n+1)}function a(){l(n-1<0?o:n-1)}function i(){l(parseInt(this.id.replace("thumbnail-slide",""),10))}var n=0,o=0,r=c(e),l=function(e){r.find(".slide:visible").fadeOut(50),r.find(".slide:eq("+e+")").fadeIn(),n=e};this.init=function(){r.find(".slide:not(:first)").hide(),o=r.find(".slide").length-1,r.on("click",".next",t),r.on("click",".prev",a),r.on("click",".thumbnails .thumbnail",i)},this.init()},c.fn.msGallerySlider=function(){return this.each(function(){null==c(this).data("msGallerySlider")&&c(this).data("msGallerySlider",new c.msGallerySlider(this))})},c(function(){c(".ms-gallery").msGallerySlider()})}(jQuery),function(i){var n=i(document.getElementById("f-video-header")),o={init:function(e){window.matchMedia("(min-width: 920px)").matches&&(this.videoId=e,this.loadPlayer(),this.addActiveClass(),window.onYouTubeIframeAPIReady=this.InitializePlayer)},loadPlayer:function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},addActiveClass:function(){var e=i(".f-video-looped");0<e.length&&e.addClass("active")},InitializePlayer:function(){this.player=new YT.Player(n.attr("id"),{width:"1280",height:"720",videoId:o.videoId,playerVars:{autoplay:1,controls:0,showinfo:0,rel:0,modestbranding:1,loop:1,color:"white"},events:{onReady:o.onPlayerReady,onStateChange:o.onPlayerEnd}})},onPlayerReady:function(e){e.target.mute(),e.target.playVideo(),e.target.setLoop()},onPlayerEnd:function(e){e.data===YT.PlayerState.ENDED&&this.player.loadVideoById(this.videoId)}};function r(){i("html, body").animate({scrollTop:i("#scroll-container").offset().top-63},500)}i(document).ready(function(){var e,t,a;!function(){var t=i(document.getElementById("headerArea"));function e(){var e=i(window).scrollTop();(0<t.length?120:63)<=e?(stickyHeader.addClass(stickyAnimate),stickyHeader.attr("aria-hidden","false")):(stickyHeader.removeClass(stickyAnimate),stickyHeader.attr("aria-hidden","true"))}stickyHeader=i(".f-header"),stickyAnimate="f-header-sticky",uhfGroup=i(".f-uhf-group"),siteGroup=i(".f-site-group"),socialItem=i(".f-social-item"),socialShare=i(".f-social-share"),navGroup=i(".f-nav-button-group"),navButton=i(".f-nav-button"),navMenu=i(".f-nav-main"),navBack=i(".f-nav-main-back"),mainGroup=i(".f-main"),currScroll=0,win=i(window),$this=i(this),e(),win.scroll(function(){e()}),socialItem.hover(function(){$this.children(socialShare).toggleClass("hover")}),navButton.on("click",function(){$this.toggleClass("active"),uhfGroup.toggleClass("active"),siteGroup.toggleClass("active"),navMenu.toggleClass("active"),mainGroup.toggleClass("active"),stickyHeader.toggleClass("f-header-dark"),navGroup.hasClass("active")?(navGroup.removeClass("active"),win.scrollTop(currScroll),navMenu.attr("aria-expanded",!1),navMenu.attr("data-f-expanded",!1)):(currScroll=win.scrollTop(),navGroup.addClass("active"),win.scrollTop(0),navMenu.attr("aria-expanded",!0),navMenu.attr("data-f-expanded",!0),navMenu.find("li").first().focus())}),navBack.on("click",function(){uhfGroup.removeClass("active"),navButton.removeClass("active"),navGroup.removeClass("active"),siteGroup.removeClass("active"),navMenu.removeClass("active"),mainGroup.removeClass("active"),stickyHeader.removeClass("f-header-dark"),win.scrollTop(currScroll)})}(),e=i('[data-slider="enabled"], .f-slides'),t=i(".f-slide-image"),0<e.length&&(e.owlCarousel({navigation:!0,slideSpeed:300,pagination:!1,singleItem:!0}),t.each(function(){var e=i(this),t=e.children(".f-slide-image-inline").attr("src");e.css("background-image","url("+t+")")})),t=i("[data-featherlight]"),a=i(document.getElementById("f-video-lightbox")),0<t.length&&t.on("click",function(e){e.preventDefault(),i(".featherlight-content #f-video-lightbox").attr("src",a.attr("data-src"))}),i('[data-js="scroll-to-title"]')&&i("#scroll-container")&&(i('[data-js="scroll-to-title"]').on("click",function(){r()}),i('[data-js="scroll-to-title"]').keyup(function(e){13!==e.keyCode&&32!==e.keyCode||r()})),1===n.length&&n.data("youtube-video-id")&&o.init(n.data("youtube-video-id"))}),"objectFit"in document.documentElement.style==!1&&document.addEventListener("DOMContentLoaded",function(){Array.prototype.forEach.call(document.querySelectorAll("img[data-object-fit]"),function(e){(e.runtimeStyle||e.style).background='url("'+e.src+'") no-repeat 50%/'+(e.currentStyle?e.currentStyle["object-fit"]:e.getAttribute("data-object-fit")),e.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e.width+"' height='"+e.height+"'%3E%3C/svg%3E"})})}(jQuery),document.addEventListener("DOMContentLoaded",function(){var a,i,n,o,e=document.getElementsByClassName("animate-viewport");function t(n,e){var o=arguments.length<=1||void 0===e?100:e,r=void 0;return function(){for(var e=this,t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];clearTimeout(r),r=setTimeout(function(){n.apply(e,a)},o)}}function r(){n=window.pageYOffset,o=window.innerHeight,a={},i=[],Array.prototype.forEach.call(e,function(e){var t=e.getBoundingClientRect().top+n;a[t]=e.classList,i.push(t)}),l()}function l(){n=window.pageYOffset,i.forEach(function(e,t){e<=n+o&&(a[e].add("active"),i.splice(t,1),delete a[e])})}window.addEventListener("scroll",t(l,250)),window.addEventListener("resize",t(r,250)),r()});